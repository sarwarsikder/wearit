{"ast":null,"code":"import _classCallCheck from \"/var/www/html/wearit/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/var/www/html/wearit/web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, EventEmitter, HostListener, Input, NgModule, Output } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\n\nvar ImageUtils = /*#__PURE__*/function () {\n  function ImageUtils() {\n    _classCallCheck(this, ImageUtils);\n  }\n\n  _createClass(ImageUtils, null, [{\n    key: \"getOrientation\",\n\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    value: function getOrientation(imageBase64) {\n      var\n      /** @type {?} */\n      view = new DataView(this.base64ToArrayBuffer(imageBase64));\n\n      if (view.getUint16(0, false) != 0xFFD8) {\n        return -2;\n      }\n\n      var\n      /** @type {?} */\n      length = view.byteLength;\n      var\n      /** @type {?} */\n      offset = 2;\n\n      while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8) return -1;\n        var\n        /** @type {?} */\n        marker = view.getUint16(offset, false);\n        offset += 2;\n\n        if (marker == 0xFFE1) {\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\n            return -1;\n          }\n\n          var\n          /** @type {?} */\n          little = view.getUint16(offset += 6, false) == 0x4949;\n          offset += view.getUint32(offset + 4, little);\n          var\n          /** @type {?} */\n          tags = view.getUint16(offset, little);\n          offset += 2;\n\n          for (var\n          /** @type {?} */\n          i = 0; i < tags; i++) {\n            if (view.getUint16(offset + i * 12, little) == 0x0112) {\n              return view.getUint16(offset + i * 12 + 8, little);\n            }\n          }\n        } else if ((marker & 0xFF00) != 0xFF00) {\n          break;\n        } else {\n          offset += view.getUint16(offset, false);\n        }\n      }\n\n      return -1;\n    }\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n\n  }, {\n    key: \"base64ToArrayBuffer\",\n    value: function base64ToArrayBuffer(imageBase64) {\n      imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n      var\n      /** @type {?} */\n      binaryString = atob(imageBase64);\n      var\n      /** @type {?} */\n      len = binaryString.length;\n      var\n      /** @type {?} */\n      bytes = new Uint8Array(len);\n\n      for (var\n      /** @type {?} */\n      i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n\n      return bytes.buffer;\n    }\n    /**\n     * @param {?} srcBase64\n     * @param {?} srcOrientation\n     * @param {?} callback\n     * @return {?}\n     */\n\n  }, {\n    key: \"resetOrientation\",\n    value: function resetOrientation(srcBase64, srcOrientation, callback) {\n      var\n      /** @type {?} */\n      img = new Image();\n\n      img.onload = function () {\n        var\n        /** @type {?} */\n        width = img.width;\n        var\n        /** @type {?} */\n        height = img.height;\n        var\n        /** @type {?} */\n        canvas = document.createElement('canvas');\n        var\n        /** @type {?} */\n        ctx = canvas.getContext('2d');\n\n        if (ctx) {\n          if (4 < srcOrientation && srcOrientation < 9) {\n            canvas.width = height;\n            canvas.height = width;\n          } else {\n            canvas.width = width;\n            canvas.height = height;\n          }\n\n          ImageUtils.transformCanvas(ctx, srcOrientation, width, height);\n          ctx.drawImage(img, 0, 0);\n          callback(canvas.toDataURL());\n        } else {\n          callback(srcBase64);\n        }\n      };\n\n      img.src = srcBase64;\n    }\n    /**\n     * @param {?} ctx\n     * @param {?} orientation\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n\n  }, {\n    key: \"transformCanvas\",\n    value: function transformCanvas(ctx, orientation, width, height) {\n      switch (orientation) {\n        case 2:\n          ctx.transform(-1, 0, 0, 1, width, 0);\n          break;\n\n        case 3:\n          ctx.transform(-1, 0, 0, -1, width, height);\n          break;\n\n        case 4:\n          ctx.transform(1, 0, 0, -1, 0, height);\n          break;\n\n        case 5:\n          ctx.transform(0, 1, 1, 0, 0, 0);\n          break;\n\n        case 6:\n          ctx.transform(0, 1, -1, 0, height, 0);\n          break;\n\n        case 7:\n          ctx.transform(0, -1, -1, 0, height, width);\n          break;\n\n        case 8:\n          ctx.transform(0, -1, 1, 0, 0, width);\n          break;\n\n        default:\n          break;\n      }\n    }\n  }]);\n\n  return ImageUtils;\n}();\n\nvar ImageCropperComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} elementRef\n   * @param {?} sanitizer\n   * @param {?} cd\n   */\n  function ImageCropperComponent(elementRef, sanitizer, cd) {\n    _classCallCheck(this, ImageCropperComponent);\n\n    this.elementRef = elementRef;\n    this.sanitizer = sanitizer;\n    this.cd = cd;\n    this.marginLeft = '0px';\n    this.imageVisible = false;\n    this.format = 'png';\n    this.maintainAspectRatio = true;\n    this.aspectRatio = 1;\n    this.resizeToWidth = 0;\n    this.onlyScaleDown = false;\n    this.imageQuality = 92;\n    this.cropper = {\n      x1: -100,\n      y1: -100,\n      x2: 10000,\n      y2: 10000\n    };\n    this.imageCropped = new EventEmitter();\n    this.imageLoaded = new EventEmitter();\n    this.loadImageFailed = new EventEmitter();\n    this.initCropper();\n  }\n  /**\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  _createClass(ImageCropperComponent, [{\n    key: \"ngOnChanges\",\n\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    value: function ngOnChanges(changes) {\n      var _this = this;\n\n      if (changes['cropper']) {\n        setTimeout(function () {\n          _this.setMaxSize();\n\n          _this.checkCropperPosition(false);\n\n          _this.crop();\n\n          _this.cd.markForCheck();\n        });\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"initCropper\",\n    value: function initCropper() {\n      this.imageVisible = false;\n      this.originalImage = null;\n      this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg' + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU' + 'AAarVyFEAAAAASUVORK5CYII=';\n      this.moveStart = {\n        active: false,\n        type: null,\n        position: null,\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        clientX: 0,\n        clientY: 0\n      };\n      this.maxSize = {\n        width: 0,\n        height: 0\n      };\n      this.originalSize = {\n        width: 0,\n        height: 0\n      };\n      this.cropper.x1 = -100;\n      this.cropper.y1 = -100;\n      this.cropper.x2 = 10000;\n      this.cropper.y2 = 10000;\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"loadImageFile\",\n    value: function loadImageFile(file) {\n      var _this2 = this;\n\n      var\n      /** @type {?} */\n      fileReader = new FileReader();\n\n      fileReader.onload = function (event) {\n        var\n        /** @type {?} */\n        imageType = file.type;\n\n        if (_this2.isValidImageType(imageType)) {\n          _this2.checkExifRotationAndLoadImage(event.target.result);\n        } else {\n          _this2.loadImageFailed.emit();\n        }\n      };\n\n      fileReader.readAsDataURL(file);\n    }\n    /**\n     * @param {?} type\n     * @return {?}\n     */\n\n  }, {\n    key: \"isValidImageType\",\n    value: function isValidImageType(type) {\n      return type === 'image/jpeg' || type === 'image/jpg' || type === 'image/png' || type === 'image/gif';\n    }\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n\n  }, {\n    key: \"checkExifRotationAndLoadImage\",\n    value: function checkExifRotationAndLoadImage(imageBase64) {\n      var _this3 = this;\n\n      var\n      /** @type {?} */\n      exifRotation = ImageUtils.getOrientation(imageBase64);\n\n      if (exifRotation > 1) {\n        ImageUtils.resetOrientation(imageBase64, exifRotation, function (rotatedBase64) {\n          return _this3.loadBase64Image(rotatedBase64);\n        });\n      } else {\n        this.loadBase64Image(imageBase64);\n      }\n    }\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n\n  }, {\n    key: \"loadBase64Image\",\n    value: function loadBase64Image(imageBase64) {\n      var _this4 = this;\n\n      this.originalImage = new Image();\n\n      this.originalImage.onload = function () {\n        _this4.originalSize.width = _this4.originalImage.width;\n        _this4.originalSize.height = _this4.originalImage.height;\n\n        _this4.cd.markForCheck();\n      };\n\n      this.safeImgDataUrl = this.sanitizer.bypassSecurityTrustResourceUrl(imageBase64);\n      this.originalImage.src = imageBase64;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"imageLoadedInView\",\n    value: function imageLoadedInView() {\n      var _this5 = this;\n\n      if (this.originalImage != null) {\n        this.imageLoaded.emit();\n        setTimeout(function () {\n          _this5.setMaxSize();\n\n          _this5.resetCropperPosition();\n\n          _this5.cd.markForCheck();\n        });\n      }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"onResize\",\n    value: function onResize(event) {\n      this.resizeCropperPosition();\n      this.setMaxSize();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"resizeCropperPosition\",\n    value: function resizeCropperPosition() {\n      var\n      /** @type {?} */\n      displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n\n      if (this.maxSize.width !== displayedImage.offsetWidth || this.maxSize.height !== displayedImage.offsetHeight) {\n        this.cropper.x1 = this.cropper.x1 * displayedImage.offsetWidth / this.maxSize.width;\n        this.cropper.x2 = this.cropper.x2 * displayedImage.offsetWidth / this.maxSize.width;\n        this.cropper.y1 = this.cropper.y1 * displayedImage.offsetHeight / this.maxSize.height;\n        this.cropper.y2 = this.cropper.y2 * displayedImage.offsetHeight / this.maxSize.height;\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"resetCropperPosition\",\n    value: function resetCropperPosition() {\n      var\n      /** @type {?} */\n      displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n\n      if (displayedImage.offsetWidth / this.aspectRatio < displayedImage.offsetHeight) {\n        this.cropper.x1 = 0;\n        this.cropper.x2 = displayedImage.offsetWidth;\n        var\n        /** @type {?} */\n        cropperHeight = displayedImage.offsetWidth / this.aspectRatio;\n        this.cropper.y1 = (displayedImage.offsetHeight - cropperHeight) / 2;\n        this.cropper.y2 = this.cropper.y1 + cropperHeight;\n      } else {\n        this.cropper.y1 = 0;\n        this.cropper.y2 = displayedImage.offsetHeight;\n        var\n        /** @type {?} */\n        cropperWidth = displayedImage.offsetHeight * this.aspectRatio;\n        this.cropper.x1 = (displayedImage.offsetWidth - cropperWidth) / 2;\n        this.cropper.x2 = this.cropper.x1 + cropperWidth;\n      }\n\n      this.crop();\n      this.imageVisible = true;\n    }\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n\n  }, {\n    key: \"startMove\",\n    value: function startMove(event, moveType) {\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      this.moveStart.active = true;\n      this.moveStart.type = moveType;\n      this.moveStart.position = position;\n      this.moveStart.clientX = this.getClientX(event);\n      this.moveStart.clientY = this.getClientY(event);\n      Object.assign(this.moveStart, this.cropper);\n      this.cd.markForCheck();\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"moveImg\",\n    value: function moveImg(event) {\n      if (this.moveStart.active) {\n        event.stopPropagation();\n        event.preventDefault();\n        this.setMaxSize();\n\n        if (this.moveStart.type === 'move') {\n          this.move(event);\n          this.checkCropperPosition(true);\n        } else if (this.moveStart.type === 'resize') {\n          this.resize(event);\n          this.checkCropperPosition(false);\n        }\n\n        this.cd.markForCheck();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"setMaxSize\",\n    value: function setMaxSize() {\n      var\n      /** @type {?} */\n      el = this.elementRef.nativeElement.querySelector('.source-image');\n      this.maxSize.width = el.offsetWidth;\n      this.maxSize.height = el.offsetHeight;\n      this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n    }\n    /**\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n\n  }, {\n    key: \"checkCropperPosition\",\n    value: function checkCropperPosition() {\n      var maintainSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.cropper.x1 < 0) {\n        this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n        this.cropper.x1 = 0;\n      }\n\n      if (this.cropper.y1 < 0) {\n        this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n        this.cropper.y1 = 0;\n      }\n\n      if (this.cropper.x2 > this.maxSize.width) {\n        this.cropper.x1 -= maintainSize ? this.cropper.x2 - this.maxSize.width : 0;\n        this.cropper.x2 = this.maxSize.width;\n      }\n\n      if (this.cropper.y2 > this.maxSize.height) {\n        this.cropper.y1 -= maintainSize ? this.cropper.y2 - this.maxSize.height : 0;\n        this.cropper.y2 = this.maxSize.height;\n      }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"moveStop\",\n    value: function moveStop(event) {\n      if (this.moveStart.active) {\n        this.moveStart.active = false;\n        this.crop();\n        this.cd.markForCheck();\n      }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"move\",\n    value: function move(event) {\n      var\n      /** @type {?} */\n      diffX = this.getClientX(event) - this.moveStart.clientX;\n      var\n      /** @type {?} */\n      diffY = this.getClientY(event) - this.moveStart.clientY;\n      this.cropper.x1 = this.moveStart.x1 + diffX;\n      this.cropper.y1 = this.moveStart.y1 + diffY;\n      this.cropper.x2 = this.moveStart.x2 + diffX;\n      this.cropper.y2 = this.moveStart.y2 + diffY;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"resize\",\n    value: function resize(event) {\n      var\n      /** @type {?} */\n      diffX = this.getClientX(event) - this.moveStart.clientX;\n      var\n      /** @type {?} */\n      diffY = this.getClientY(event) - this.moveStart.clientY;\n\n      switch (this.moveStart.position) {\n        case 'left':\n          this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n          break;\n\n        case 'topleft':\n          this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n          this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n          break;\n\n        case 'top':\n          this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n          break;\n\n        case 'topright':\n          this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n          this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - 20);\n          break;\n\n        case 'right':\n          this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n          break;\n\n        case 'bottomright':\n          this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + 20);\n          this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n          break;\n\n        case 'bottom':\n          this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n          break;\n\n        case 'bottomleft':\n          this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - 20);\n          this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + 20);\n          break;\n      }\n\n      if (this.maintainAspectRatio) {\n        this.checkAspectRatio();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"checkAspectRatio\",\n    value: function checkAspectRatio() {\n      var\n      /** @type {?} */\n      overflowX = 0;\n      var\n      /** @type {?} */\n      overflowY = 0;\n\n      switch (this.moveStart.position) {\n        case 'top':\n          this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n          overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n          overflowY = Math.max(0 - this.cropper.y1, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x2 -= overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y1 += overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n\n        case 'bottom':\n          this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n          overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n          overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x2 -= overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y2 -= overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n\n        case 'topleft':\n          this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n          overflowX = Math.max(0 - this.cropper.x1, 0);\n          overflowY = Math.max(0 - this.cropper.y1, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x1 += overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y1 += overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n\n        case 'topright':\n          this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n          overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n          overflowY = Math.max(0 - this.cropper.y1, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x2 -= overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y1 += overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n\n        case 'right':\n        case 'bottomright':\n          this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n          overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n          overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x2 -= overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y2 -= overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n\n        case 'left':\n        case 'bottomleft':\n          this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n          overflowX = Math.max(0 - this.cropper.x1, 0);\n          overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n\n          if (overflowX > 0 || overflowY > 0) {\n            this.cropper.x1 += overflowY * this.aspectRatio > overflowX ? overflowY * this.aspectRatio : overflowX;\n            this.cropper.y2 -= overflowY * this.aspectRatio > overflowX ? overflowY : overflowX / this.aspectRatio;\n          }\n\n          break;\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"crop\",\n    value: function crop() {\n      var\n      /** @type {?} */\n      displayedImage = this.elementRef.nativeElement.querySelector('.source-image');\n\n      if (displayedImage && this.originalImage != null) {\n        var\n        /** @type {?} */\n        ratio = this.originalSize.width / displayedImage.offsetWidth;\n        var\n        /** @type {?} */\n        left = Math.round(this.cropper.x1 * ratio);\n        var\n        /** @type {?} */\n        top = Math.round(this.cropper.y1 * ratio);\n        var\n        /** @type {?} */\n        width = Math.round((this.cropper.x2 - this.cropper.x1) * ratio);\n        var\n        /** @type {?} */\n        height = Math.round((this.cropper.y2 - this.cropper.y1) * ratio);\n        var\n        /** @type {?} */\n        resizeRatio = this.getResizeRatio(width);\n        var\n        /** @type {?} */\n        cropCanvas = document.createElement('canvas');\n        cropCanvas.width = width * resizeRatio;\n        cropCanvas.height = height * resizeRatio;\n        var\n        /** @type {?} */\n        ctx = cropCanvas.getContext('2d');\n\n        if (ctx) {\n          ctx.drawImage(this.originalImage, left, top, width, height, 0, 0, width * resizeRatio, height * resizeRatio);\n          var\n          /** @type {?} */\n          quality = Math.min(1, Math.max(0, this.imageQuality / 100));\n          var\n          /** @type {?} */\n          croppedImage = cropCanvas.toDataURL('image/' + this.format, quality);\n\n          if (croppedImage.length > 10) {\n            this.imageCropped.emit(croppedImage);\n          }\n        }\n      }\n    }\n    /**\n     * @param {?} width\n     * @return {?}\n     */\n\n  }, {\n    key: \"getResizeRatio\",\n    value: function getResizeRatio(width) {\n      return this.resizeToWidth > 0 && (!this.onlyScaleDown || width > this.resizeToWidth) ? this.resizeToWidth / width : 1;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"getClientX\",\n    value: function getClientX(event) {\n      return event.clientX != null ? event.clientX : event.touches[0].clientX;\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"getClientY\",\n    value: function getClientY(event) {\n      return event.clientY != null ? event.clientY : event.touches[0].clientY;\n    }\n  }, {\n    key: \"imageFileChanged\",\n    set: function set(file) {\n      this.initCropper();\n\n      if (file) {\n        this.loadImageFile(file);\n      }\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n\n  }, {\n    key: \"imageChangedEvent\",\n    set: function set(event) {\n      this.initCropper();\n\n      if (event && event.target && event.target.files && event.target.files.length > 0) {\n        this.loadImageFile(event.target.files[0]);\n      }\n    }\n    /**\n     * @param {?} imageBase64\n     * @return {?}\n     */\n\n  }, {\n    key: \"imageBase64\",\n    set: function set(imageBase64) {\n      this.initCropper();\n      this.loadBase64Image(imageBase64);\n    }\n  }]);\n\n  return ImageCropperComponent;\n}();\n\nImageCropperComponent.ɵfac = function ImageCropperComponent_Factory(t) {\n  return new (t || ImageCropperComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef));\n};\n\nImageCropperComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: ImageCropperComponent,\n  selectors: [[\"image-cropper\"]],\n  hostBindings: function ImageCropperComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"resize\", function ImageCropperComponent_resize_HostBindingHandler($event) {\n        return ctx.onResize($event);\n      }, false, ɵngcc0.ɵɵresolveWindow)(\"mousemove\", function ImageCropperComponent_mousemove_HostBindingHandler($event) {\n        return ctx.moveImg($event);\n      }, false, ɵngcc0.ɵɵresolveDocument)(\"touchmove\", function ImageCropperComponent_touchmove_HostBindingHandler($event) {\n        return ctx.moveImg($event);\n      }, false, ɵngcc0.ɵɵresolveDocument)(\"mouseup\", function ImageCropperComponent_mouseup_HostBindingHandler($event) {\n        return ctx.moveStop($event);\n      }, false, ɵngcc0.ɵɵresolveDocument)(\"touchend\", function ImageCropperComponent_touchend_HostBindingHandler($event) {\n        return ctx.moveStop($event);\n      }, false, ɵngcc0.ɵɵresolveDocument);\n    }\n  },\n  inputs: {\n    format: \"format\",\n    maintainAspectRatio: \"maintainAspectRatio\",\n    aspectRatio: \"aspectRatio\",\n    resizeToWidth: \"resizeToWidth\",\n    onlyScaleDown: \"onlyScaleDown\",\n    imageQuality: \"imageQuality\",\n    cropper: \"cropper\",\n    imageFileChanged: \"imageFileChanged\",\n    imageChangedEvent: \"imageChangedEvent\",\n    imageBase64: \"imageBase64\"\n  },\n  outputs: {\n    imageCropped: \"imageCropped\",\n    imageLoaded: \"imageLoaded\",\n    loadImageFailed: \"loadImageFailed\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 25,\n  vars: 15,\n  consts: [[1, \"source-image\", 3, \"src\", \"load\"], [1, \"cropper\"], [1, \"move\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"topleft\", 3, \"mousedown\", \"touchstart\"], [1, \"square\"], [1, \"resize\", \"top\"], [1, \"resize\", \"topright\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"right\"], [1, \"resize\", \"bottomright\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"bottom\"], [1, \"resize\", \"bottomleft\", 3, \"mousedown\", \"touchstart\"], [1, \"resize\", \"left\"], [1, \"resize-bar\", \"top\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"right\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"bottom\", 3, \"mousedown\", \"touchstart\"], [1, \"resize-bar\", \"left\", 3, \"mousedown\", \"touchstart\"]],\n  template: function ImageCropperComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\");\n      ɵngcc0.ɵɵelementStart(1, \"img\", 0);\n      ɵngcc0.ɵɵlistener(\"load\", function ImageCropperComponent_Template_img_load_1_listener() {\n        return ctx.imageLoadedInView();\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(2, \"div\", 1);\n      ɵngcc0.ɵɵelementStart(3, \"div\", 2);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_div_mousedown_3_listener($event) {\n        return ctx.startMove($event, \"move\");\n      })(\"touchstart\", function ImageCropperComponent_Template_div_touchstart_3_listener($event) {\n        return ctx.startMove($event, \"move\");\n      });\n      ɵngcc0.ɵɵtext(4, \"\\xA0\");\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(5, \"span\", 3);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_5_listener($event) {\n        return ctx.startMove($event, \"resize\", \"topleft\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_5_listener($event) {\n        return ctx.startMove($event, \"resize\", \"topleft\");\n      });\n      ɵngcc0.ɵɵelement(6, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(7, \"span\", 5);\n      ɵngcc0.ɵɵelement(8, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(9, \"span\", 6);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_9_listener($event) {\n        return ctx.startMove($event, \"resize\", \"topright\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_9_listener($event) {\n        return ctx.startMove($event, \"resize\", \"topright\");\n      });\n      ɵngcc0.ɵɵelement(10, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(11, \"span\", 7);\n      ɵngcc0.ɵɵelement(12, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(13, \"span\", 8);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_13_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottomright\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_13_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottomright\");\n      });\n      ɵngcc0.ɵɵelement(14, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(15, \"span\", 9);\n      ɵngcc0.ɵɵelement(16, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(17, \"span\", 10);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_17_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottomleft\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_17_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottomleft\");\n      });\n      ɵngcc0.ɵɵelement(18, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(19, \"span\", 11);\n      ɵngcc0.ɵɵelement(20, \"span\", 4);\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(21, \"span\", 12);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_21_listener($event) {\n        return ctx.startMove($event, \"resize\", \"top\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_21_listener($event) {\n        return ctx.startMove($event, \"resize\", \"top\");\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(22, \"span\", 13);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_22_listener($event) {\n        return ctx.startMove($event, \"resize\", \"right\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_22_listener($event) {\n        return ctx.startMove($event, \"resize\", \"right\");\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(23, \"span\", 14);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_23_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottom\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_23_listener($event) {\n        return ctx.startMove($event, \"resize\", \"bottom\");\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementStart(24, \"span\", 15);\n      ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_span_mousedown_24_listener($event) {\n        return ctx.startMove($event, \"resize\", \"left\");\n      })(\"touchstart\", function ImageCropperComponent_Template_span_touchstart_24_listener($event) {\n        return ctx.startMove($event, \"resize\", \"left\");\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵstyleProp(\"visibility\", ctx.imageVisible ? \"visible\" : \"hidden\");\n      ɵngcc0.ɵɵproperty(\"src\", ctx.safeImgDataUrl, ɵngcc0.ɵɵsanitizeUrl);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵstyleProp(\"top\", ctx.cropper.y1, \"px\")(\"left\", ctx.cropper.x1, \"px\")(\"width\", ctx.cropper.x2 - ctx.cropper.x1, \"px\")(\"height\", ctx.cropper.y2 - ctx.cropper.y1, \"px\")(\"margin-left\", ctx.marginLeft)(\"visibility\", ctx.imageVisible ? \"visible\" : \"hidden\");\n    }\n  },\n  styles: [\"[_nghost-%COMP%] {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        position: relative;\\n        width: 100%;\\n        max-width: 100%;\\n        max-height: 100%;\\n        overflow: hidden;\\n        padding: 5px;\\n        text-align: center;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        user-select: none; }\\n        [_nghost-%COMP%]    > div[_ngcontent-%COMP%] {\\n          position: relative;\\n          width: 100%; }\\n          [_nghost-%COMP%]    > div[_ngcontent-%COMP%]   .source-image[_ngcontent-%COMP%] {\\n            max-width: 100%;\\n            max-height: 100%; }\\n        [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%] {\\n          position: absolute;\\n          display: -webkit-box;\\n          display: -ms-flexbox;\\n          display: flex;\\n          color: #53535C !important;\\n          background: transparent !important;\\n          outline-color: rgba(255, 255, 255, 0.3);\\n          outline-width: 1000px;\\n          outline-style: solid;\\n          -ms-touch-action: none;\\n              touch-action: none; }\\n          [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after {\\n            position: absolute;\\n            content: '';\\n            top: 0;\\n            bottom: 0;\\n            left: 0;\\n            right: 0;\\n            pointer-events: none;\\n            border: dashed 1px;\\n            opacity: .75;\\n            color: inherit;\\n            z-index: 1; }\\n          [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%] {\\n            width: 100%;\\n            cursor: move;\\n            border: 1px solid rgba(255, 255, 255, 0.5); }\\n          [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%] {\\n            position: absolute;\\n            display: inline-block;\\n            line-height: 6px;\\n            padding: 8px;\\n            opacity: .85;\\n            z-index: 1; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%] {\\n              display: inline-block;\\n              background: #53535C !important;\\n              width: 6px;\\n              height: 6px;\\n              border: 1px solid rgba(255, 255, 255, 0.5); }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%] {\\n              top: -12px;\\n              left: -12px;\\n              cursor: nw-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%] {\\n              top: -12px;\\n              left: calc(50% - 12px);\\n              cursor: n-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%] {\\n              top: -12px;\\n              right: -12px;\\n              cursor: ne-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%] {\\n              top: calc(50% - 12px);\\n              right: -12px;\\n              cursor: e-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%] {\\n              bottom: -12px;\\n              right: -12px;\\n              cursor: se-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%] {\\n              bottom: -12px;\\n              left: calc(50% - 12px);\\n              cursor: s-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%] {\\n              bottom: -12px;\\n              left: -12px;\\n              cursor: sw-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%] {\\n              top: calc(50% - 12px);\\n              left: -12px;\\n              cursor: w-resize; }\\n          [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%] {\\n            position: absolute;\\n            z-index: 1; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%] {\\n              top: -11px;\\n              left: 11px;\\n              width: calc(100% - 22px);\\n              height: 22px;\\n              cursor: n-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%] {\\n              top: 11px;\\n              right: -11px;\\n              height: calc(100% - 22px);\\n              width: 22px;\\n              cursor: e-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%] {\\n              bottom: -11px;\\n              left: 11px;\\n              width: calc(100% - 22px);\\n              height: 22px;\\n              cursor: s-resize; }\\n            [_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%] {\\n              top: 11px;\\n              left: -11px;\\n              height: calc(100% - 22px);\\n              width: 22px;\\n              cursor: w-resize; }\"],\n  changeDetection: 0\n});\n/**\n * @nocollapse\n */\n\nImageCropperComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: DomSanitizer\n  }, {\n    type: ChangeDetectorRef\n  }];\n};\n\nImageCropperComponent.propDecorators = {\n  'imageFileChanged': [{\n    type: Input\n  }],\n  'imageChangedEvent': [{\n    type: Input\n  }],\n  'imageBase64': [{\n    type: Input\n  }],\n  'format': [{\n    type: Input\n  }],\n  'maintainAspectRatio': [{\n    type: Input\n  }],\n  'aspectRatio': [{\n    type: Input\n  }],\n  'resizeToWidth': [{\n    type: Input\n  }],\n  'onlyScaleDown': [{\n    type: Input\n  }],\n  'imageQuality': [{\n    type: Input\n  }],\n  'cropper': [{\n    type: Input\n  }],\n  'imageCropped': [{\n    type: Output\n  }],\n  'imageLoaded': [{\n    type: Output\n  }],\n  'loadImageFailed': [{\n    type: Output\n  }],\n  'onResize': [{\n    type: HostListener,\n    args: ['window:resize', ['$event']]\n  }],\n  'moveImg': [{\n    type: HostListener,\n    args: ['document:mousemove', ['$event']]\n  }, {\n    type: HostListener,\n    args: ['document:touchmove', ['$event']]\n  }],\n  'moveStop': [{\n    type: HostListener,\n    args: ['document:mouseup', ['$event']]\n  }, {\n    type: HostListener,\n    args: ['document:touchend', ['$event']]\n  }]\n};\n/*@__PURE__*/\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(ImageCropperComponent, [{\n    type: Component,\n    args: [{\n      selector: 'image-cropper',\n      template: \"\\n      <div>\\n          <img\\n              [src]=\\\"safeImgDataUrl\\\"\\n              [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n              (load)=\\\"imageLoadedInView()\\\"\\n              class=\\\"source-image\\\"\\n          />\\n          <div class=\\\"cropper\\\"\\n               [style.top.px]=\\\"cropper.y1\\\"\\n               [style.left.px]=\\\"cropper.x1\\\"\\n               [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n               [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n               [style.margin-left]=\\\"marginLeft\\\"\\n               [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n          >\\n              <div\\n                  (mousedown)=\\\"startMove($event, 'move')\\\"\\n                  (touchstart)=\\\"startMove($event, 'move')\\\"\\n                  class=\\\"move\\\"\\n              >&nbsp;</div>\\n              <span\\n                  class=\\\"resize topleft\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'topleft')\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize top\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize topright\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'topright')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'topright')\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize right\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize bottomright\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'bottomright')\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize bottom\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize bottomleft\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'bottomleft')\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize left\\\"\\n              ><span class=\\\"square\\\"></span></span>\\n              <span\\n                  class=\\\"resize-bar top\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'top')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'top')\\\"\\n              ></span>\\n              <span\\n                  class=\\\"resize-bar right\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'right')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'right')\\\"\\n              ></span>\\n              <span\\n                  class=\\\"resize-bar bottom\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'bottom')\\\"\\n              ></span>\\n              <span\\n                  class=\\\"resize-bar left\\\"\\n                  (mousedown)=\\\"startMove($event, 'resize', 'left')\\\"\\n                  (touchstart)=\\\"startMove($event, 'resize', 'left')\\\"\\n              ></span>\\n          </div>\\n      </div>\\n    \",\n      styles: [\"\\n      :host {\\n        display: -webkit-box;\\n        display: -ms-flexbox;\\n        display: flex;\\n        position: relative;\\n        width: 100%;\\n        max-width: 100%;\\n        max-height: 100%;\\n        overflow: hidden;\\n        padding: 5px;\\n        text-align: center;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        user-select: none; }\\n        :host > div {\\n          position: relative;\\n          width: 100%; }\\n          :host > div .source-image {\\n            max-width: 100%;\\n            max-height: 100%; }\\n        :host .cropper {\\n          position: absolute;\\n          display: -webkit-box;\\n          display: -ms-flexbox;\\n          display: flex;\\n          color: #53535C !important;\\n          background: transparent !important;\\n          outline-color: rgba(255, 255, 255, 0.3);\\n          outline-width: 1000px;\\n          outline-style: solid;\\n          -ms-touch-action: none;\\n              touch-action: none; }\\n          :host .cropper:after {\\n            position: absolute;\\n            content: '';\\n            top: 0;\\n            bottom: 0;\\n            left: 0;\\n            right: 0;\\n            pointer-events: none;\\n            border: dashed 1px;\\n            opacity: .75;\\n            color: inherit;\\n            z-index: 1; }\\n          :host .cropper .move {\\n            width: 100%;\\n            cursor: move;\\n            border: 1px solid rgba(255, 255, 255, 0.5); }\\n          :host .cropper .resize {\\n            position: absolute;\\n            display: inline-block;\\n            line-height: 6px;\\n            padding: 8px;\\n            opacity: .85;\\n            z-index: 1; }\\n            :host .cropper .resize .square {\\n              display: inline-block;\\n              background: #53535C !important;\\n              width: 6px;\\n              height: 6px;\\n              border: 1px solid rgba(255, 255, 255, 0.5); }\\n            :host .cropper .resize.topleft {\\n              top: -12px;\\n              left: -12px;\\n              cursor: nw-resize; }\\n            :host .cropper .resize.top {\\n              top: -12px;\\n              left: calc(50% - 12px);\\n              cursor: n-resize; }\\n            :host .cropper .resize.topright {\\n              top: -12px;\\n              right: -12px;\\n              cursor: ne-resize; }\\n            :host .cropper .resize.right {\\n              top: calc(50% - 12px);\\n              right: -12px;\\n              cursor: e-resize; }\\n            :host .cropper .resize.bottomright {\\n              bottom: -12px;\\n              right: -12px;\\n              cursor: se-resize; }\\n            :host .cropper .resize.bottom {\\n              bottom: -12px;\\n              left: calc(50% - 12px);\\n              cursor: s-resize; }\\n            :host .cropper .resize.bottomleft {\\n              bottom: -12px;\\n              left: -12px;\\n              cursor: sw-resize; }\\n            :host .cropper .resize.left {\\n              top: calc(50% - 12px);\\n              left: -12px;\\n              cursor: w-resize; }\\n          :host .cropper .resize-bar {\\n            position: absolute;\\n            z-index: 1; }\\n            :host .cropper .resize-bar.top {\\n              top: -11px;\\n              left: 11px;\\n              width: calc(100% - 22px);\\n              height: 22px;\\n              cursor: n-resize; }\\n            :host .cropper .resize-bar.right {\\n              top: 11px;\\n              right: -11px;\\n              height: calc(100% - 22px);\\n              width: 22px;\\n              cursor: e-resize; }\\n            :host .cropper .resize-bar.bottom {\\n              bottom: -11px;\\n              left: 11px;\\n              width: calc(100% - 22px);\\n              height: 22px;\\n              cursor: s-resize; }\\n            :host .cropper .resize-bar.left {\\n              top: 11px;\\n              left: -11px;\\n              height: calc(100% - 22px);\\n              width: 22px;\\n              cursor: w-resize; }\\n    \"],\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.DomSanitizer\n    }, {\n      type: ɵngcc0.ChangeDetectorRef\n    }];\n  }, {\n    format: [{\n      type: Input\n    }],\n    maintainAspectRatio: [{\n      type: Input\n    }],\n    aspectRatio: [{\n      type: Input\n    }],\n    resizeToWidth: [{\n      type: Input\n    }],\n    onlyScaleDown: [{\n      type: Input\n    }],\n    imageQuality: [{\n      type: Input\n    }],\n    cropper: [{\n      type: Input\n    }],\n    imageCropped: [{\n      type: Output\n    }],\n    imageLoaded: [{\n      type: Output\n    }],\n    loadImageFailed: [{\n      type: Output\n    }],\n    imageFileChanged: [{\n      type: Input\n    }],\n    imageChangedEvent: [{\n      type: Input\n    }],\n    imageBase64: [{\n      type: Input\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onResize: [{\n      type: HostListener,\n      args: ['window:resize', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveImg: [{\n      type: HostListener,\n      args: ['document:mousemove', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['document:touchmove', ['$event']]\n    }],\n\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    moveStop: [{\n      type: HostListener,\n      args: ['document:mouseup', ['$event']]\n    }, {\n      type: HostListener,\n      args: ['document:touchend', ['$event']]\n    }]\n  });\n})();\n\nvar ImageCropperModule = function ImageCropperModule() {\n  _classCallCheck(this, ImageCropperModule);\n};\n\nImageCropperModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: ImageCropperModule\n});\nImageCropperModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function ImageCropperModule_Factory(t) {\n    return new (t || ImageCropperModule)();\n  },\n  imports: [[CommonModule]]\n});\n/**\n * @nocollapse\n */\n\nImageCropperModule.ctorParameters = function () {\n  return [];\n};\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImageCropperModule, {\n    declarations: function declarations() {\n      return [ImageCropperComponent];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [ImageCropperComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(ImageCropperModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [ImageCropperComponent],\n      exports: [ImageCropperComponent]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ImageCropperModule, ImageCropperComponent };","map":null,"metadata":{},"sourceType":"module"}