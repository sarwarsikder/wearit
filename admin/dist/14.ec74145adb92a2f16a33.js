(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/6n6":function(t,e,c){"use strict";c.r(e),c.d(e,"FaqModule",(function(){return v}));var i=c("ofXK"),n=c("tyNb"),s=c("fXoL"),o=c("sXYb"),r=function(){function t(t){this.rest=t}return t.prototype.search=function(t){return this.rest.all("questions").customGET("",t).toPromise()},t.prototype.single=function(t){return this.rest.one("questions",t).get().toPromise()},t.prototype.updateAnswer=function(t,e){var c={answer:t,visibility:!0,question:e.question};return this.rest.one("questions",e.id).customPUT(c).toPromise()},t.prototype.remove=function(t){return this.rest.all("questions").customDELETE(t).toPromise()},t.\u0275fac=function(e){return new(e||t)(s.qc(o.a))},t.\u0275prov=s.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),a=c("0OCT"),u=c("1kSV");function h(t,e){1&t&&(s.ic(0,"span",12),s.Xc(1,"Y"),s.hc())}function l(t,e){1&t&&(s.ic(0,"span",13),s.Xc(1,"N"),s.hc())}var p=function(t){return["/faqs/answer",t]};function f(t,e){if(1&t){var c=s.jc();s.ic(0,"tr"),s.ic(1,"td"),s.Xc(2),s.hc(),s.ic(3,"td"),s.Xc(4),s.hc(),s.ic(5,"td"),s.Xc(6),s.hc(),s.ic(7,"td"),s.Vc(8,h,2,0,"span",6),s.Vc(9,l,2,0,"span",7),s.hc(),s.ic(10,"td"),s.ic(11,"span"),s.Xc(12),s.wc(13,"date"),s.hc(),s.hc(),s.ic(14,"td"),s.ic(15,"a",8),s.dc(16,"i",9),s.hc(),s.Xc(17,"\xa0 "),s.ic(18,"a",10),s.tc("click",(function(){s.Oc(c);var t=e.$implicit,i=e.index;return s.vc().remove(t.id,i)})),s.dc(19,"i",11),s.hc(),s.hc(),s.hc()}if(2&t){var i=e.$implicit;s.Pb(2),s.Yc(i.question),s.Pb(2),s.Yc(null==i||null==i.user?null:i.user.email),s.Pb(2),s.Yc(i.answer),s.Pb(2),s.Cc("ngIf",i.visibility),s.Pb(1),s.Cc("ngIf",!i.visibility),s.Pb(3),s.Yc(s.xc(13,7,i.createdAt)),s.Pb(3),s.Cc("routerLink",s.Gc(9,p,i.id))}}var d=function(){function t(t,e){this.faqService=t,this.toastyService=e,this.questions=[],this.searchStr="",this.page=1,this.take=10,this.total=0}return t.prototype.ngOnInit=function(){this.loadQuestion()},t.prototype.loadQuestion=function(){var t=this,e={question:this.searchStr,page:this.page,take:this.take};this.faqService.search(e).then((function(e){t.questions=e.data.items,t.total=e.data.count})).catch((function(t){return console.log(t)}))},t.prototype.remove=function(t,e){var c=this;this.faqService.remove(t).then((function(t){c.questions.splice(e,1),c.toastyService.success("Question deleted successfully")})).catch((function(t){return c.toastyService.error("Error on deleting question")}))},t.\u0275fac=function(e){return new(e||t)(s.cc(r),s.cc(a.c))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-question"]],decls:28,vars:4,consts:[[1,"card"],[1,"card-block","table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["colspan","4"],[3,"collectionSize","page","pageSize","pageChange"],["class","label label-success",4,"ngIf"],["class","label label-warning",4,"ngIf"],[3,"routerLink"],[1,"fa","fa-pencil"],[3,"click"],[1,"fa","fa-trash"],[1,"label","label-success"],[1,"label","label-warning"]],template:function(t,e){1&t&&(s.ic(0,"div",0),s.ic(1,"div",1),s.ic(2,"table",2),s.ic(3,"thead"),s.ic(4,"tr"),s.ic(5,"th"),s.ic(6,"a"),s.Xc(7,"Question"),s.hc(),s.hc(),s.ic(8,"th"),s.ic(9,"a"),s.Xc(10,"Question By"),s.hc(),s.hc(),s.ic(11,"th"),s.ic(12,"a"),s.Xc(13,"Answer"),s.hc(),s.hc(),s.ic(14,"th"),s.ic(15,"a"),s.Xc(16,"Visibility"),s.hc(),s.hc(),s.ic(17,"th"),s.ic(18,"a"),s.Xc(19,"Created at"),s.hc(),s.hc(),s.ic(20,"th"),s.Xc(21," Actions "),s.hc(),s.hc(),s.hc(),s.ic(22,"tbody"),s.Vc(23,f,20,11,"tr",3),s.hc(),s.ic(24,"tfoot"),s.ic(25,"tr"),s.ic(26,"td",4),s.ic(27,"ngb-pagination",5),s.tc("pageChange",(function(t){return e.page=t}))("pageChange",(function(){return e.loadQuestion()})),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc(),s.hc()),2&t&&(s.Pb(23),s.Cc("ngForOf",e.questions),s.Pb(4),s.Cc("collectionSize",e.total)("page",e.page)("pageSize",e.take))},directives:[i.m,u.g,i.n,n.i],pipes:[i.e],styles:[""]}),t}(),b=c("3Pt+"),g=[{path:"",component:d,data:{title:"Manage FAQs",urls:[{title:"FAQs",url:"/faqs"},{title:"Questions"}]}},{path:"answer/:id",component:function(){function t(t,e,c,i){this.route=t,this.router=e,this.faqService=c,this.toastyService=i,this.question={},this.answer=""}return t.prototype.ngOnInit=function(){this.questionId=this.route.snapshot.params.id,this.loadQuestion()},t.prototype.loadQuestion=function(){var t=this;this.faqService.single(this.questionId).then((function(e){t.question=e.data,t.answer=t.question.answer})).catch((function(t){return console.log(t)}))},t.prototype.updateAnswer=function(){var t=this;this.faqService.updateAnswer(this.answer,this.question).then((function(e){t.toastyService.success("Answer updated successfully"),t.router.navigate(["/faqs"])})).catch((function(e){return t.toastyService.error("Error on updating answer")}))},t.\u0275fac=function(e){return new(e||t)(s.cc(n.a),s.cc(n.f),s.cc(r),s.cc(a.c))},t.\u0275cmp=s.Wb({type:t,selectors:[["app-answer"]],decls:10,vars:3,consts:[[1,"col","col-md-6","offset-md-3"],[1,"card","p-5"],["type","text","placeholder","Enter Answer","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(s.ic(0,"div",0),s.ic(1,"div",1),s.ic(2,"p"),s.Xc(3),s.hc(),s.ic(4,"p"),s.Xc(5),s.hc(),s.ic(6,"input",2),s.tc("ngModelChange",(function(t){return e.answer=t})),s.hc(),s.dc(7,"br"),s.ic(8,"button",3),s.tc("click",(function(){return e.updateAnswer()})),s.Xc(9,"Submit"),s.hc(),s.hc(),s.hc()),2&t&&(s.Pb(3),s.Yc(e.question.question),s.Pb(2),s.Zc("by ",null==e.question||null==e.question.user?null:e.question.user.email,""),s.Pb(1),s.Cc("ngModel",e.answer))},directives:[b.b,b.p,b.h,b.k],styles:[""]}),t}(),data:{title:"Answer FAQ",urls:[{title:"Answer FAQ",url:"/faqs"},{title:"Answer"}]}}],v=function(){function t(){}return t.\u0275mod=s.ac({type:t}),t.\u0275inj=s.Zb({factory:function(e){return new(e||t)},imports:[[i.b,n.j.forChild(g),u.f,b.c]]}),t}()}}]);